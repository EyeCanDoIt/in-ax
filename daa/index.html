---
title: Difficult Airway Algorithm â€” Game
layout: template
filename: daa
---

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Difficult Airway Algorithm â€” Game</title>

  <!-- Site styles you already have -->
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../assets/css/echo.css">

  <style>
    .lives-pill{
      display:inline-flex; align-items:center; gap:.5rem;
      padding:.35rem .7rem; border-radius:999px;
      border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.05);
      color:#e6edf9; font-weight:800;
    }
    .heart{ filter: drop-shadow(0 0 8px rgba(239,68,68,.35)); font-size:1.05rem }
    .muted{ color:#9fb1d1 }
    .scenario{ font-size:1.15rem; color:#d8e2f6; margin:0 0 .25rem }
    .sub{ color:#9fb1d1; margin:0 0 .5rem; font-size:.95rem }
    .grid{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); }
    .opt{
      border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.05);
      color:#e6edf9; border-radius:12px; padding:12px 14px; text-align:left; cursor:pointer;
      transition:.16s ease transform,.16s ease border-color,.16s ease background;
    }
    .opt:hover{ transform:translateY(-2px); border-color:rgba(94,234,212,.35); background:rgba(255,255,255,.08) }
    .opt.correct{ outline:2px solid #34d399 }
    .opt.wrong{ outline:2px solid #f87171 }
    .explain{ color:#cbd5e1; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.12);
      padding:10px 12px; border-radius:10px; margin-top:10px }
    .kbd{ font:600 .85rem/1 ui-monospace,SFMono-Regular,Menlo,monospace; background:#0b1220; border:1px solid rgba(255,255,255,.15);
      border-bottom-width:2px; padding:.12rem .42rem; border-radius:6px; color:#cfe1ff }
  </style>
</head>
<body class="echo">
  <header class="container">
    <div class="nav-box">
      <div class="nav-row">
        <a class="brand" href="../" aria-label="In-Ax â€” home">
          <img class="logo" src="https://eyecandoit.github.io/in-ax/images/inaxlogo1.png" alt="In-Ax logo" />
        </a>

        <nav class="tabs" aria-label="Primary">
          <a class="tab" href="../" data-match="/">Home</a>
          <a class="tab" href="../at/" data-match="/at">AT</a>
          <a class="tab" href="../tee/" data-match="/tee">TEE</a>
          <a class="tab active" href="./" data-match="/daa">DAA</a>
          <a class="tab nav-disclaimer" href="../disclaimer.html"><span class="label-extra">Read </span>Disclaimer</a>
        </nav>

        <div class="subtitle">Random scenarios â€¢ 3 lives â€¢ pick the next best step</div>
      </div>
    </div>
  </header>

  <div class="echo-root">
    <div class="echo-app">
      <div class="echo-header">
        <div class="echo-title-wrap">
          <h1 class="echo-title">Difficult Airway Algorithm</h1>
          <span class="echo-sub">Limit attempts â€¢ Call for help early â€¢ Oxygenation first</span>
        </div>
        <div class="echo-meta">
          <span id="scorePill" class="echo-pill">Score: 0</span>
          <span id="stepPill" class="echo-pill">Q 1/1</span>
          <span id="livesPill" class="lives-pill"><span class="heart">â™¥â™¥â™¥</span> Lives</span>
        </div>
      </div>

      <section class="echo-card">
        <div id="banner" class="echo-topbanner" hidden></div>

        <div class="echo-stage">
          <div class="echo-image-wrap" style="min-height:0;padding:0">
            <div class="muted" style="padding:8px 0">
              Shortcuts: <span class="kbd">1â€“4</span> answer Â· <span class="kbd">R</span> restart
            </div>
          </div>
        </div>

        <div id="answers" class="echo-answers"></div>

        <div class="echo-footer">
          <div class="echo-progress"><div id="bar" class="echo-bar"></div></div>
          <div class="echo-controls">
            <button id="restartBtn" class="echo-link">Restart</button>
          </div>
        </div>
      </section>
    </div>

    <div id="toast" class="echo-toast" role="status" aria-live="polite"></div>
  </div>

  <footer class="container" style="color:#93a1b7; text-align:center; padding:20px 0 28px; font-size:.9rem;">
    Â© <span id="y"></span> In-Ax
  </footer>

  <script>
  // ---------- tiny helpers ----------
  const $ = (s, el=document)=>el.querySelector(s);
  const answers = $('#answers');
  const banner  = $('#banner');
  const scoreEl = $('#scorePill');
  const stepEl  = $('#stepPill');
  const livesEl = $('#livesPill');
  const bar     = $('#bar');
  const toast   = $('#toast');
  $('#y').textContent = new Date().getFullYear();
  $('#restartBtn').addEventListener('click', init);

  function setBanner(text,color){ banner.textContent=text||''; banner.hidden=!text; banner.style.color=color||'' }
  function showToast(msg){ toast.textContent=msg; toast.classList.add('echo-show'); clearTimeout(showToast.t); showToast.t=setTimeout(()=>toast.classList.remove('echo-show'), 1100); }
  const shuffle = a => { const b=a.slice(); for(let i=b.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [b[i],b[j]]=[b[j],b[i]] } return b };

  // ---------- scenario bank (ASA 2022 key decisions) ----------
  const SCENARIOS = [
    {
      id:'dl_difficult',
      scenario:'Pre-intubation: Suspected difficult laryngoscopy.',
      options:[
        {t:'Choose an AWAKE intubation strategy', ok:true, why:'Any YES factor (e.g., difficult laryngoscopy) can justify an awake approach.'},
        {t:'Induce GA first and proceed to DL'},
        {t:'Skip preoxygenation and intubate quickly'},
        {t:'Start with mask ventilation to test difficulty'}
      ]
    },
    {
      id:'mask_diff',
      scenario:'Pre-intubation: Suspected difficult ventilation with mask/SGA.',
      options:[
        {t:'Choose an AWAKE intubation strategy', ok:true, why:'If ventilation may fail after induction, keep spontaneous breathing (awake).'},
        {t:'Rapid sequence induction then DL'},
        {t:'Proceed to elective tracheostomy immediately'},
      ]
    },
    {
      id:'aspiration_risk',
      scenario:'Pre-intubation: Significant increased risk of aspiration (full stomach).',
      options:[
        {t:'Choose an AWAKE intubation strategy', ok:true, why:'Awake intubation allows airway reflexes and continuous oxygenation.'},
        {t:'Deep anesthesia and mask ventilation'},
        {t:'SGA first, then intubate through it routinely'}
      ]
    },
    {
      id:'rapid_desat',
      scenario:'Pre-intubation: Increased risk of rapid desaturation.',
      options:[
        {t:'Consider AWAKE intubation (or optimize oxygenation if asleep)', ok:true, why:'High desaturation risk often favors an awake approach.'},
        {t:'Skip preoxygenation to save time'},
        {t:'Try multiple DL attempts rapidly'}
      ]
    },
    {
      id:'diff_emergency_access',
      scenario:'Pre-intubation: Suspected difficult EMERGENCY invasive airway.',
      options:[
        {t:'Choose an AWAKE intubation strategy', ok:true, why:'If rescue access may be difficult, avoid losing the airway under GA.'},
        {t:'Induce GA and plan to call for help if needed'},
        {t:'Proceed directly to elective front-of-neck access in all cases'}
      ]
    },
    {
      id:'no_flags',
      scenario:'Pre-intubation: No major risk factors identified.',
      options:[
        {t:'Proceed with intubation AFTER INDUCTION with optimal preoxygenation', ok:true, why:'When screening is negative, after-induction approach is reasonable.'},
        {t:'Mandatory awake approach for everyone'},
        {t:'Skip capnography after tube placement'}
      ]
    },
    {
      id:'awake_fail',
      scenario:'Awake intubation attempt FAILED.',
      options:[
        {t:'Assess ability to VENTILATE (mask) and oxygenate', ok:true, why:'After a failed attempt, confirm you can ventilate and maintain oxygenation.'},
        {t:'Repeat attempts indefinitely'},
        {t:'Immediately paralyze and try DL'}
      ]
    },
    {
      id:'asleep_fail',
      scenario:'After induction: First intubation attempt FAILED.',
      options:[
        {t:'Check MASK ventilation (COâ‚‚) and oxygenate', ok:true, why:'Limit attempts and ensure oxygenation before continuing.'},
        {t:'Attempt DL repeatedly without reassessment'},
        {t:'Skip to extubation plan'}
      ]
    },
    {
      id:'mask_ok',
      scenario:'Ventilation ADEQUATE with mask (COâ‚‚ confirmed).',
      options:[
        {t:'Non-emergency path: limit attempts, consider AWAKENING or ALTERNATIVE approach', ok:true, why:'When ventilation is adequate, step back and choose a safer plan.'},
        {t:'Directly proceed to emergency front-of-neck access'},
        {t:'Continue repeated DL attempts without limit'}
      ]
    },
    {
      id:'mask_not_ok',
      scenario:'Mask ventilation NOT adequate.',
      options:[
        {t:'Consider/attempt SUPRAGLOTTIC AIRWAY', ok:true, why:'SGA is the next rescue step when mask ventilation is inadequate.'},
        {t:'Keep trying mask only'},
        {t:'Wake the patient immediately without oxygenation attempt'}
      ]
    },
    {
      id:'sga_ok',
      scenario:'SGA ventilation ADEQUATE.',
      options:[
        {t:'Non-emergency path: wake patient OR intubate through SGA', ok:true, why:'With oxygenation restored, you can wake or proceed via SGA.'},
        {t:'Remove SGA and retry DL repeatedly'},
        {t:'Go to emergency invasive airway now'}
      ]
    },
    {
      id:'sga_not_ok',
      scenario:'SGA ventilation NOT adequate (canâ€™t ventilate).',
      options:[
        {t:'EMERGENCY pathway: prepare for FRONT-OF-NECK ACCESS (limit attempts, call for help)', ok:true, why:'CICO: prioritize emergency invasive access.'},
        {t:'Try DL several more times first'},
        {t:'Pause and reassess later without oxygenation'}
      ]
    },
    {
      id:'emerg_escalate',
      scenario:'Emergency pathway with critical desaturation.',
      options:[
        {t:'Proceed to EMERGENCY INVASIVE AIRWAY (front-of-neck access)', ok:true, why:'Definitive rescue when oxygenation cannot be maintained.'},
        {t:'Keep attempting DL briefly again'},
        {t:'Wait for saturation to recover on its own'}
      ]
    },
    {
      id:'tube_in',
      scenario:'Tube placed â€” capnography CONFIRMED.',
      options:[
        {t:'Secure tube and plan EXTUBATION strategy (consider AEC if high-risk)', ok:true, why:'Capnography confirmation, secure tube, then safe extubation plan.'},
        {t:'Skip capnography; rely on chest rise'},
        {t:'Remove the tube to check positioning'}
      ]
    },
    {
      id:'extubation_plan',
      scenario:'High-risk airway: planning EXTUBATION.',
      options:[
        {t:'Awake extubation over AIRWAY EXCHANGE CATHETER with monitoring', ok:true, why:'Safer for re-intubation access and oxygenation.'},
        {t:'Deep extubation in OR without plan'},
        {t:'Remove the tube in PACU without monitors'}
      ]
    }
  ];

  // ---------- game state ----------
  let order = [], idx = 0, score = 0, lives = 3, locked = false;

  function init(){
    order = shuffle([...Array(SCENARIOS.length).keys()]);
    idx = 0; score = 0; lives = 3; locked = false;
    updateMeta();
    setBanner('You have 3 lives. Pick the next best step for each scenario.', '#e2e8f0');
    renderQuestion();
  }

  function updateMeta(){
    scoreEl.textContent = `Score: ${score}`;
    stepEl.textContent  = `Q ${Math.min(idx+1, SCENARIOS.length)} / ${SCENARIOS.length}`;
    livesEl.innerHTML   = `<span class="heart">${'â™¥'.repeat(lives)}${'<span style="opacity:.25">'+'â™¥'.repeat(3-lives)+'</span>'}</span> Lives`;
    const pct = (idx/SCENARIOS.length)*100;
    bar.style.inset = `0 ${Math.max(0,100-pct)}% 0 0`;
  }

  function renderQuestion(){
    answers.innerHTML = '';
    if (lives <= 0){ return endGame(false); }
    if (idx >= order.length){ return endGame(true); }

    locked = false;
    const q = SCENARIOS[ order[idx] ];
    const box = document.createElement('div');
    box.style.padding = '12px';

    const h = document.createElement('p');
    h.className='scenario';
    h.textContent = q.scenario;
    box.appendChild(h);

    const sub = document.createElement('p');
    sub.className='sub';
    sub.textContent = 'Choose the best next step:';
    box.appendChild(sub);

    const grid = document.createElement('div');
    grid.className='grid';
    const opts = shuffle(q.options.map((o,i)=>({ ...o, i })));

    opts.forEach((o,oi)=>{
      const b = document.createElement('button');
      b.className='opt';
      b.innerHTML = `<strong>${oi+1}. ${o.t}</strong>`;
      b.addEventListener('click', ()=> choose(b, o.ok, o.why, opts));
      grid.appendChild(b);
    });

    box.appendChild(grid);
    answers.appendChild(box);

    // keyboard shortcuts 1â€“4
    document.onkeydown = (e)=>{
      if (locked) return;
      const k = +e.key;
      if (k>=1 && k<=opts.length){
        grid.children[k-1].click();
      } else if (e.key.toLowerCase()==='r'){
        init();
      }
    };
  }

  function choose(btn, ok, why, opts){
    if (locked) return; locked = true;

    // reveal correct
    const grid = btn.parentElement;
    [...grid.children].forEach((b,i)=>{
      const isOK = opts[i].ok;
      b.classList.add(isOK ? 'correct' : '');
    });

    if (ok){
      score += 1;
      setBanner('âœ… Correct', '#34d399');
      showExplain(why, 'ok');
      setTimeout(()=>{ idx++; updateMeta(); setBanner(''); renderQuestion(); }, 900);
    } else {
      lives -= 1; updateMeta();
      setBanner('âŒ Incorrect', '#f87171');
      showExplain(`Best next step: ${opts.find(o=>o.ok).t}. ${why||''}`, 'no');
      if (lives <= 0){
        setTimeout(()=> endGame(false), 900);
      } else {
        setTimeout(()=>{ idx++; setBanner(''); renderQuestion(); }, 1400);
      }
    }
  }

  function showExplain(text, kind){
    const note = document.createElement('div');
    note.className = 'explain';
    note.textContent = text || '';
    answers.appendChild(note);
  }

  function endGame(cleared){
    answers.innerHTML = '';
    const d = document.createElement('div');
    d.style.padding = '18px';
    const title = cleared ? 'Nice work! ðŸŽ‰' : 'Could not intubate â€” patient coded.';
    const color = cleared ? '#34d399' : '#f87171';
    d.innerHTML = `
      <h2 style="margin:.2rem 0 .6rem; color:${color}">${title}</h2>
      <p class="muted">Final score: <strong>${score}</strong> / ${SCENARIOS.length}. ${cleared ? 'You completed all scenarios.' : 'Review the algorithm and try again.'}</p>
      <button class="echo-btn" type="button">Play again</button>`;
    d.querySelector('button').addEventListener('click', init);
    answers.appendChild(d);
    document.onkeydown = (e)=>{ if (e.key.toLowerCase()==='r' || e.key==='Enter') init(); };
  }

  // start
  init();
  </script>
</body>
</html>
