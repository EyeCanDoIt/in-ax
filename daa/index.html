---
title: Difficult Airway Algorithm — Game
layout: template
filename: daa
---

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Difficult Airway Algorithm — Game</title>

  <!-- Your site styles -->
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../assets/css/echo.css">

  <style>
    /* Center the whole Q/A area in a big card */
    .echo-answers{
      display:flex; align-items:center; justify-content:center;
      min-height: 480px; padding: 0 14px 18px;
    }
    .qa-card{
      width:min(980px, 100%);
      border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius:16px;
      padding:18px;
      box-shadow:0 18px 40px rgba(0,0,0,.25);
    }
    .scenario{ font-size:1.15rem; color:#dbe7ff; margin:0 0 .35rem; font-weight:800; }
    .sub{ color:#9fb1d1; margin:0 0 1rem; font-size:.95rem }
    .grid{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); }

    .opt{
      border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.05);
      color:#e6edf9; border-radius:12px; padding:12px 14px; text-align:left; cursor:pointer;
      transition:.16s ease transform,.16s ease border-color,.16s ease background,.16s ease opacity;
    }
    .opt:hover{ transform:translateY(-2px); border-color:rgba(94,234,212,.35); background:rgba(255,255,255,.08) }
    .opt:disabled{ opacity:.8; cursor:default }
    .opt.correct{ outline:2px solid #34d399 }
    .opt.wrong{ outline:2px solid #f87171 }

    .explain{
      color:#cbd5e1; background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.12);
      padding:10px 12px; border-radius:10px; margin-top:12px
    }

    .lives-pill{
      display:inline-flex; align-items:center; gap:.5rem;
      padding:.35rem .7rem; border-radius:999px;
      border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.05);
      color:#e6edf9; font-weight:800;
    }
    .heart{ filter: drop-shadow(0 0 8px rgba(239,68,68,.35)); font-size:1.05rem; letter-spacing:.1rem }

    .kbd{ font:600 .85rem/1 ui-monospace,SFMono-Regular,Menlo,monospace; background:#0b1220; border:1px solid rgba(255,255,255,.15);
      border-bottom-width:2px; padding:.12rem .42rem; border-radius:6px; color:#cfe1ff }

    /* Keep the stage compact since we don't show media here */
    .echo-image-wrap{ min-height:0; padding:0 }
  </style>
</head>
<body class="echo">
  <header class="container">
    <div class="nav-box">
      <div class="nav-row">
        <a class="brand" href="../" aria-label="In-Ax — home">
          <img class="logo" src="https://eyecandoit.github.io/in-ax/images/inaxlogo1.png" alt="In-Ax logo" />
        </a>

        <nav class="tabs" aria-label="Primary">
          <a class="tab" href="../" data-match="/">Home</a>
          <a class="tab" href="../at/" data-match="/at">AT</a>
          <a class="tab" href="../tee/" data-match="/tee">TEE</a>
          <a class="tab active" href="./" data-match="/daa">DAA</a>
          <a class="tab nav-disclaimer" href="../disclaimer.html"><span class="label-extra">Read </span>Disclaimer</a>
        </nav>

        <div class="subtitle">Random scenarios • 3 lives • pick the next best step (ASA 2022)</div>
      </div>
    </div>
  </header>

  <div class="echo-root">
    <div class="echo-app">
      <div class="echo-header">
        <div class="echo-title-wrap">
          <h1 class="echo-title">Difficult Airway Algorithm</h1>
          <span class="echo-sub">Limit attempts • Call for help early • Oxygenation first</span>
        </div>
        <div class="echo-meta">
          <span id="scorePill" class="echo-pill">Score: 0</span>
          <span id="stepPill" class="echo-pill">Q 1/1</span>
          <span id="livesPill" class="lives-pill"><span class="heart">♥♥♥</span> Lives</span>
        </div>
      </div>

      <section class="echo-card">
        <div id="banner" class="echo-topbanner" hidden></div>

        <div class="echo-stage">
          <div class="echo-image-wrap">
            <div class="muted" style="padding:8px 0">
              Shortcuts: <span class="kbd">1–4</span> answer · <span class="kbd">R</span> restart
            </div>
          </div>
        </div>

        <div id="answers" class="echo-answers"></div>

        <div class="echo-footer">
          <div class="echo-progress"><div id="bar" class="echo-bar"></div></div>
          <div class="echo-controls">
            <button id="restartBtn" class="echo-link">Restart</button>
          </div>
        </div>
      </section>
    </div>

    <div id="toast" class="echo-toast" role="status" aria-live="polite"></div>
  </div>

  <footer class="container" style="color:#93a1b7; text-align:center; padding:20px 0 28px; font-size:.9rem;">
    © <span id="y"></span> In-Ax
  </footer>

  <script>
  // ---------- helpers ----------
  const $ = (s, el=document)=>el.querySelector(s);
  const answers = $('#answers');
  const banner  = $('#banner');
  const scoreEl = $('#scorePill');
  const stepEl  = $('#stepPill');
  const livesEl = $('#livesPill');
  const bar     = $('#bar');
  const toast   = $('#toast');
  $('#y').textContent = new Date().getFullYear();
  $('#restartBtn').addEventListener('click', init);

  function setBanner(text,color){ banner.textContent=text||''; banner.hidden=!text; banner.style.color=color||'' }
  function showToast(msg){ toast.textContent=msg; toast.classList.add('echo-show'); clearTimeout(showToast.t); showToast.t=setTimeout(()=>toast.classList.remove('echo-show'), 1100); }
  const shuffle = a => { const b=a.slice(); for(let i=b.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [b[i],b[j]]=[b[j],b[i]] } return b };

  // ---------- scenario bank ----------
  const SCENARIOS = [
    { id:'dl_difficult', scenario:'Pre-intubation: Suspected difficult laryngoscopy.', options:[
      {t:'Choose an AWAKE intubation strategy', ok:true, why:'Any YES factor (e.g., difficult laryngoscopy) supports an awake approach.'},
      {t:'Induce general anesthesia now and proceed to DL'},
      {t:'Skip preoxygenation and intubate quickly'},
      {t:'“Test” mask ventilation first under deep anesthesia'}
    ]},
    { id:'mask_diff', scenario:'Pre-intubation: Suspected difficult ventilation with mask/SGA.', options:[
      {t:'Choose an AWAKE intubation strategy', ok:true, why:'If ventilation may fail after induction, maintain spontaneous breathing.'},
      {t:'Rapid sequence induction then DL'},
      {t:'Elective tracheostomy for all difficult airways'},
      {t:'Give deep sedation and try DL repeatedly'}
    ]},
    { id:'aspiration_risk', scenario:'Pre-intubation: Significant increased risk of aspiration (full stomach).', options:[
      {t:'Choose an AWAKE intubation strategy', ok:true, why:'Awake approach preserves protective reflexes and oxygenation.'},
      {t:'Deep anesthesia and mask ventilation'},
      {t:'Place SGA first in every case'},
      {t:'Skip suction availability'}
    ]},
    { id:'rapid_desat', scenario:'Pre-intubation: Increased risk of rapid desaturation.', options:[
      {t:'Consider AWAKE intubation (or aggressively optimize oxygenation if asleep)', ok:true, why:'High desat risk → awake often safer.'},
      {t:'Skip preoxygenation to save time'},
      {t:'Plan multiple quick DL attempts'},
      {t:'Avoid nasal oxygen during attempts'}
    ]},
    { id:'diff_emergency_access', scenario:'Pre-intubation: Suspected difficult EMERGENCY invasive airway.', options:[
      {t:'Choose an AWAKE intubation strategy', ok:true, why:'If rescue access may be difficult, avoid losing the airway under GA.'},
      {t:'Induce GA and “see how it goes”'},
      {t:'Always perform front-of-neck access electively'},
      {t:'Rely on repeated DL first'}
    ]},
    { id:'no_flags', scenario:'Pre-intubation: No major risk factors identified.', options:[
      {t:'Proceed with intubation AFTER INDUCTION with optimal preoxygenation', ok:true, why:'When screening is negative, after-induction approach is reasonable.'},
      {t:'Mandatory awake approach for everyone'},
      {t:'Skip capnography after tube placement'},
      {t:'Avoid calling for help if difficulties arise'}
    ]},
    { id:'awake_fail', scenario:'Awake intubation attempt FAILED.', options:[
      {t:'Assess ability to VENTILATE (mask) and oxygenate', ok:true, why:'After a failed attempt, confirm you can ventilate and maintain oxygenation.'},
      {t:'Repeat attempts indefinitely'},
      {t:'Paralyze immediately and try DL'},
      {t:'Ignore SpO₂ and continue'}
    ]},
    { id:'asleep_fail', scenario:'After induction: First intubation attempt FAILED.', options:[
      {t:'Check MASK ventilation (CO₂) and oxygenate', ok:true, why:'Limit attempts and ensure oxygenation before continuing.'},
      {t:'Attempt DL repeatedly without reassessment'},
      {t:'Skip to extubation plan'},
      {t:'Disable alarms to reduce stress'}
    ]},
    { id:'mask_ok', scenario:'Ventilation ADEQUATE with mask (CO₂ confirmed).', options:[
      {t:'Non-emergency path: limit attempts, consider AWAKENING or ALTERNATIVE approach', ok:true, why:'When ventilation is adequate, step back and choose a safer plan.'},
      {t:'Go directly to emergency front-of-neck access'},
      {t:'Continue unlimited DL attempts'},
      {t:'Remove monitoring to simplify'}
    ]},
    { id:'mask_not_ok', scenario:'Mask ventilation NOT adequate.', options:[
      {t:'Consider/attempt SUPRAGLOTTIC AIRWAY', ok:true, why:'SGA is the next rescue step when mask ventilation is inadequate.'},
      {t:'Keep trying mask only'},
      {t:'Wake immediately without oxygenation'},
      {t:'Skip calling for help'}
    ]},
    { id:'sga_ok', scenario:'SGA ventilation ADEQUATE.', options:[
      {t:'Non-emergency path: wake patient OR intubate through SGA', ok:true, why:'With oxygenation restored, you can wake or proceed via SGA.'},
      {t:'Remove SGA and retry DL repeatedly'},
      {t:'Go to emergency invasive airway now'},
      {t:'Turn off oxygen to avoid gastric insufflation'}
    ]},
    { id:'sga_not_ok', scenario:'SGA ventilation NOT adequate (can’t ventilate).', options:[
      {t:'EMERGENCY pathway: prepare for FRONT-OF-NECK ACCESS (limit attempts, call for help)', ok:true, why:'CICO: prioritize emergency invasive access.'},
      {t:'Try DL several more times first'},
      {t:'Pause and reassess later without oxygenation'},
      {t:'Remove oxygen to see true baseline'}
    ]},
    { id:'emerg_escalate', scenario:'Emergency pathway with critical desaturation.', options:[
      {t:'Proceed to EMERGENCY INVASIVE AIRWAY (front-of-neck access)', ok:true, why:'Definitive rescue when oxygenation cannot be maintained.'},
      {t:'Keep attempting DL briefly again'},
      {t:'Wait for saturation to recover on its own'},
      {t:'Take a break and re-attempt in 10 minutes'}
    ]},
    { id:'tube_in', scenario:'Tube placed — capnography CONFIRMED.', options:[
      {t:'Secure tube and plan EXTUBATION strategy (consider AEC if high-risk)', ok:true, why:'Confirm with capnography, secure tube, plan safe extubation.'},
      {t:'Skip capnography; rely on chest rise'},
      {t:'Remove the tube to check positioning'},
      {t:'Ignore securing device until later'}
    ]},
    { id:'extubation_plan', scenario:'High-risk airway: planning EXTUBATION.', options:[
      {t:'Awake extubation over AIRWAY EXCHANGE CATHETER with monitoring', ok:true, why:'Safer re-intubation access and oxygenation.'},
      {t:'Deep extubation in OR without plan'},
      {t:'Pull the tube in PACU without monitors'},
      {t:'Ask patient to self-remove the tube'}
    ]}
  ];

  // ---------- game state ----------
  let order = [], idx = 0, score = 0, lives = 3, locked = false;

  function hearts(n){ return '♥'.repeat(n) + '♡'.repeat(3-n); }

  function init(){
    order = shuffle([...Array(SCENARIOS.length).keys()]);
    idx = 0; score = 0; lives = 3; locked = false;
    updateMeta();
    setBanner('You have 3 lives. Pick the next best step for each scenario.', '#e2e8f0');
    renderQuestion();
  }

  function updateMeta(){
    scoreEl.textContent = `Score: ${score}`;
    stepEl.textContent  = `Q ${Math.min(idx+1, SCENARIOS.length)} / ${SCENARIOS.length}`;
    livesEl.innerHTML   = `<span class="heart">${hearts(lives)}</span> Lives`;
    const pct = (idx/SCENARIOS.length)*100;
    bar.style.inset = `0 ${Math.max(0,100-pct)}% 0 0`;
  }

  function renderQuestion(){
    answers.innerHTML = '';
    if (lives <= 0){ return endGame(false); }
    if (idx >= order.length){ return endGame(true); }

    locked = false;
    const q = SCENARIOS[ order[idx] ];

    const card = document.createElement('div');
    card.className = 'qa-card';

    const h = document.createElement('p');
    h.className='scenario';
    h.textContent = q.scenario;
    card.appendChild(h);

    const sub = document.createElement('p');
    sub.className='sub';
    sub.textContent = 'Choose the best next step:';
    card.appendChild(sub);

    const grid = document.createElement('div');
    grid.className='grid';
    const opts = shuffle(q.options.map(o=>({ ...o })));

    opts.forEach((o,oi)=>{
      const b = document.createElement('button');
      b.className='opt';
      b.innerHTML = `<strong>${oi+1}. ${o.t}</strong>`;
      b.addEventListener('click', ()=> choose(b, o.ok, o.why, opts));
      grid.appendChild(b);
    });

    card.appendChild(grid);
    answers.appendChild(card);

    // keyboard shortcuts 1–4 + R
    document.onkeydown = (e)=>{
      if (e.key.toLowerCase()==='r'){ init(); return; }
      if (locked) return;
      const k = +e.key;
      if (k>=1 && k<=grid.children.length){
        grid.children[k-1].click();
      }
    };
  }

  function choose(btn, ok, why, opts){
    if (locked) return; locked = true;

    const grid = btn.parentElement;
    // reveal correct & mark selected
    Array.from(grid.children).forEach((b, i)=>{
      const good = !!opts[i].ok;
      if (good) b.classList.add('correct');
      if (b === btn && !good) b.classList.add('wrong');
      b.disabled = true;
    });

    if (ok){
      score += 1; updateMeta();
      setBanner('✅ Correct', '#34d399');
      showExplain(why || 'Guideline-concordant choice.');
      setTimeout(()=>{ idx++; setBanner(''); renderQuestion(); }, 900);
    } else {
      lives -= 1; updateMeta();
      setBanner('❌ Incorrect', '#f87171');
      const best = opts.find(o=>o.ok)?.t || 'See ASA 2022 pathway';
      showExplain(`Best next step: ${best}. ${why||''}`);
      setTimeout(()=>{ if (lives<=0) endGame(false); else { idx++; setBanner(''); renderQuestion(); } }, 1200);
    }
  }

  function showExplain(text){
    const note = document.createElement('div');
    note.className = 'explain';
    note.textContent = text || '';
    answers.appendChild(note);
  }

  function endGame(cleared){
    answers.innerHTML = '';
    const d = document.createElement('div');
    d.className = 'qa-card';
    const title = cleared ? 'Nice work! 🎉' : 'Could not intubate — patient coded.';
    const color = cleared ? '#34d399' : '#f87171';
    d.innerHTML = `
      <h2 style="margin:.2rem 0 .6rem; color:${color}">${title}</h2>
      <p class="sub">Final score: <strong>${score}</strong> / ${SCENARIOS.length}. ${cleared ? 'You completed all scenarios.' : 'Review the algorithm and try again.'}</p>
      <button class="echo-btn" type="button">Play again</button>
      <p class="sub" style="margin-top:.8rem">Tip: press <span class="kbd">R</span> to restart anytime.</p>`;
    d.querySelector('button').addEventListener('click', init);
    answers.appendChild(d);
    document.onkeydown = (e)=>{ if (e.key.toLowerCase()==='r' || e.key==='Enter') init(); };
  }

  // go!
  init();
  </script>
</body>
</html>
